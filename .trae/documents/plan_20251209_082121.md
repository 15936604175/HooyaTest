# Vue3 + Flask 登录与图片展示系统实现计划

## 一、项目结构设计

### 1. 前端 (Vue 3)
- 基于现有 `vue_test1` 项目扩展
- 添加路由管理 (`vue-router`)
- 添加状态管理 (`pinia`)
- 添加 HTTP 请求库 (`axios`)

### 2. 后端 (Flask)
- 基于现有 `flask_test1` 目录创建
- 添加 Flask 核心库
- 添加数据库连接库 (`pymysql`)
- 添加密码哈希库 (`bcrypt`)
- 添加 JWT 认证库 (`PyJWT`)

### 3. 数据库 (MySQL)
- 创建用户表 (`users`)
- 创建图片表 (`images`)

## 二、实现步骤

### 1. 前端实现
- 安装必要依赖
- 配置路由
- 实现登录组件
- 实现图片展示组件
- 配置 axios 拦截器

### 2. 后端实现
- 初始化 Flask 项目
- 配置数据库连接
- 实现用户认证 API
- 实现图片管理 API
- 配置 CORS

### 3. 数据库实现
- 创建数据库
- 创建用户表
- 创建图片表

### 4. 技术文档
- 编写项目架构说明
- 编写前端开发文档
- 编写后端开发文档
- 编写数据库设计文档

## 三、详细实现内容

### 1. 前端部分
- **路由配置**：
  - `/login` - 登录页面
  - `/` - 图片展示页面
  - `/logout` - 登出

- **登录组件**：
  - 用户名密码输入
  - 表单验证
  - 登录请求处理
  - 登录状态管理

- **图片展示组件**：
  - 图片列表展示
  - 图片上传功能
  - 图片删除功能

### 2. 后端部分
- **用户认证**：
  - 注册接口 (`/api/register`)
  - 登录接口 (`/api/login`)
  - 登出接口 (`/api/logout`)
  - 刷新令牌接口 (`/api/refresh`)

- **图片管理**：
  - 获取图片列表 (`/api/images`)
  - 上传图片 (`/api/images/upload`)
  - 删除图片 (`/api/images/delete/<id>`)

### 3. 数据库设计
- **users 表**：
  - id (主键)
  - username (用户名)
  - password (密码哈希)
  - created_at (创建时间)

- **images 表**：
  - id (主键)
  - user_id (外键，关联 users.id)
  - filename (文件名)
  - filepath (文件路径)
  - created_at (创建时间)

## 四、技术栈

### 前端
- Vue 3
- Vue Router 4
- Pinia
- Axios
- Element Plus (UI 组件库)

### 后端
- Flask 2.0+
- Flask-CORS
- PyMySQL
- Bcrypt
- PyJWT

### 数据库
- MySQL 8.0+

## 五、开发规范

### 1. 代码规范
- 前端使用 Vue 3 Composition API
- 后端使用 Flask 蓝图组织代码
- 数据库使用 ORM 或原生 SQL

### 2. 安全规范
- 密码使用 bcrypt 哈希存储
- 使用 JWT 进行身份验证
- 实现 CORS 跨域保护
- 输入数据验证

### 3. 项目结构
```
VueFlaskProject/
├── vue_test1/          # 前端项目
│   ├── src/
│   │   ├── components/  # Vue 组件
│   │   ├── router/      # 路由配置
│   │   ├── stores/      # 状态管理
│   │   ├── utils/       # 工具函数
│   │   ├── App.vue      # 根组件
│   │   └── main.js      # 入口文件
│   └── package.json
├── flask_test1/         # 后端项目
│   ├── app/            # Flask 应用
│   │   ├── api/         # API 路由
│   │   ├── models/      # 数据库模型
│   │   ├── utils/       # 工具函数
│   │   ├── __init__.py  # 应用初始化
│   │   └── config.py    # 配置文件
│   ├── run.py           # 启动文件
│   └── requirements.txt # 依赖列表
└── docs/               # 技术文档
    ├── architecture.md
    ├── frontend.md
    ├── backend.md
    └── database.md
```